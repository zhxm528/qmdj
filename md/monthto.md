#把阳历的月份/日期换算为干支月的通用算法（“建寅起月 + 以节气分月”的术数口径，八字/奇门常用）的规则说明
##规则总览
###以“节气”定月界（不是整月）
每个干支月从对应的节（不是中气）开始，到下一个节前一刻结束。
12 个定月用的“节”依次是：
月序	起始节气	地支（月令）
1	立春	寅月
2	惊蛰	卯月
3	清明	辰月
4	立夏	巳月
5	芒种	午月
6	小暑	未月
7	立秋	申月
8	白露	酉月
9	寒露	戌月
10	立冬	亥月
11	大雪	子月
12	小寒	丑月
判定：给定一个阳历时刻，落在哪两个相邻“节”的区间内，就属于对应的月序与月支。
###年干决定“寅月起干”，其余各月顺推
以“建寅”为起点，寅月的天干由当年天干决定（常称“五虎遁月”）：
甲、己年 → 寅月天干 = 甲
乙、庚年 → 寅月天干 = 丙
丙、辛年 → 寅月天干 = 戊
丁、壬年 → 寅月天干 = 庚
戊、癸年 → 寅月天干 = 壬
之后每过一月，天干顺序前进 1（循环 10）。
“当年”如何判定？
术数口径通常按立春换年：落在立春之前，仍算上一干支年；立春及之后，算新干支年。

##计算步骤（流程）
- 给定阳历 datetime（本地常用北京时间 UTC+8）：
###确定当年干支年（建议“立春换年”）
- 若 datetime < 当年立春时刻 → 用前一公历年的干支年；否则用当前公历年的干支年。
- 干支年可按 (year-4) mod 10/12 求出（你上个问题的算法），得到年天干。
###确定干支月的“月序 & 月支”
- 准备该公历年的 12 个起始“节”的精确时刻（见下节实现建议）。
- 找到 datetime 落入的节气区间 → 得到月序 m = 1..12。
- 月支 = 寅、卯、…、丑 中的第 m 个。
###确定“月干”
- 根据年天干查表得到寅月起干（甲/丙/戊/庚/壬之一）。
- 月干 = 从寅月起干向前推进 m-1 位（在“甲乙丙丁戊己庚辛壬癸”循环）。
###组合干支月 = 月干 + 月支。