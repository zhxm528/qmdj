# 名词解释系统前端展示设计说明（仅文字描述）

## 1. 目标与整体思路

本设计基于以下三张表：

- `term_category`：术语分类
- `term`：术语本身及解释
- `term_relation`：术语之间的关联关系

前端的主要目标是：

1. **让用户可以快速查到某个名词的解释**（搜索为主）。
2. **浏览某一类相关名词**（按分类/拼音/名称列表）。
3. **从一个名词跳转到关联名词**（相关术语）。

整体形式：一个"名词解释中心"页面为主，系统中其它业务页面可以通过链接或悬浮窗方式使用该页面或其中的一部分。

---

## 2. 信息结构与导航

### 2.1 顶层结构

- 入口：系统顶部导航或帮助菜单中增加「名词解释」或「术语中心」菜单。
- 主要页面：
  1. **名词解释主页面**（核心页面）
  2. 可选：在业务页面内以**右侧抽屉 / 弹出层**嵌入"名词详情"展示（共用同一套数据结构）。

### 2.2 URL / 路由示例（仅用于说明，无需实现）

- 名词解释首页：`/glossary`
- 指定术语详情：`/glossary/:term_key`
  - `:term_key` 对应表 `term.term_key`，例如：`member_level`、`bonus_points`

---

## 3. 名词解释主页面设计

### 3.1 页面布局（PC 端）

采用左右结构，整体分为三大区域：

1. **顶部：搜索区**
2. **左侧：分类 + 名词列表区**
3. **右侧：名词详情区**

#### 3.1.1 顶部搜索区

位置：页面顶部，宽度占满。

包含元素：

1. **搜索输入框**
   - 占据主要宽度。
   - 占位提示文案：
     > "请输入名词、缩写或拼音进行搜索（例如：VIP、会员等级、huiyuan dengji）"
   - 支持输入：
     - 中文名（对应 `term.name`）
     - 英文/缩写（对应 `term.alias`）
     - 拼音/简拼（对应 `term.pinyin`）

2. **搜索按钮**
   - 文案："搜索"
   - 点击后，将搜索框的内容作为 `q` 参数发起查询。

3. **搜索联想下拉（可选）**
   - 当用户输入 2 个以上字符时，在输入框下方展示联想列表。
   - 联想列表每一项展示：
     - `term.name`（主标题）
     - 简短的 `term.short_desc`（若存在）
   - 点击某一个联想项：
     - 左侧列表高亮该术语
     - 右侧详情区显示该术语详情
     - URL 更新为 `/glossary/:term_key`

4. **搜索结果提示区域**（可选）
   - 搜索结果返回后，在搜索框下方展示类似文案：
     - "共找到 **X** 个相关术语"
   - 当无结果时展示：
     - "未找到相关术语，请尝试更换关键词，或检查拼写。"

#### 3.1.2 左侧：分类 + 名词列表区

宽度建议约占页面的 30%–40%。

结构自上而下：

1. **分类选择区**

   - 标题：**"分类"**
   - 展示来自 `term_category` 表的所有启用分类（按 `sort_order` 排序）。
   - 形式：垂直列表或下拉 + 标签形式，典型形式如下：

     - "全部"（默认选中）
     - "会员体系"
     - "支付结算"
     - "系统与配置"
     - ……

   - 每项展示信息：
     - 主文本：`term_category.name`
     - （可选）鼠标悬浮时展示 `term_category.description` 作为 tooltip。
   - 点击分类时行为：
     - 更新当前选中分类状态（仅高亮一个）。
     - 触发术语列表重新加载（带上 `category` 参数）。
     - 如果当前有搜索关键字，则是"**搜索 + 分类过滤**"的交集。

2. **排序与过滤条（可选）**

   放在分类列表下方或列表顶部：

   - 排序方式选择：
     - 按"**名称 A-Z**"（按 `term.name` 排序）
     - 按"**手工排序**"（按 `term.sort_order` 排序）
   - （可选）首字母筛选（如果 `pinyin` 字段维护完整）：
     - 一行 A–Z 小按钮，点击某字母只显示首字母匹配该字母的术语。

3. **名词列表**

   展示当前筛选条件（搜索关键字/分类/首字母）下所有匹配的术语清单。

   每条术语列表项显示内容：

   - 第一行（主行）：
     - 术语名称：`term.name`（加粗）
     - （可选）分类标签：展示对应 `term_category.name`，样式为小圆角标签。

   - 第二行（副行）：
     - `term.short_desc`（若为空则不展示），长度控制在一行内，超出部分用省略号显示。

   行为：

   - 鼠标移入时背景稍微高亮。
   - 点击某一项时：
     - 将该项设为"选中状态"（左侧列表中标记为选中行）。
     - 右侧详情区更新为该术语的详细信息。
     - URL 中的 `:term_key` 更新为当前术语的 `term_key`，方便分享链接。
   - 当列表为空（搜索无结果）时：
     - 展示"空状态"内容，如：
       > 未找到相关术语，您可以尝试更换搜索关键词。

4. **分页（如数据量较大时）**

   - 如果术语较多，底部展示分页控件：
     - 当前页数、总页数
     - "上一页 / 下一页"、"跳转到第 N 页"等。

#### 3.1.3 右侧：名词详情区

宽度占页面的其余部分（约 60%–70%）。

当页面初次加载，若没有指定 `term_key`：

- 可以展示一个"欢迎/说明"面板，简要说明如何使用名词解释系统。
- 或展示列表中的第一个术语详情。

当用户点击左侧列表项后，右侧显示该术语详情。

内容结构：

1. **标题区**

   - 主标题：`term.name`（字体较大，明显）
   - 分类标签：从 `term_category` 读取 `name`，以彩色小标签形式展示。
   - 状态提示（仅在后台可见，可选）：如果 `term.status` = 0，可在后台界面做"停用"标记，前台一般不显示停用术语。

2. **基础信息区**

   以信息行或小卡片形式展示：

   - `术语 Key`：显示 `term.term_key`（用于技术人员交流）
   - `别名 / 缩写`：来自 `term.alias`
     - 若有多个别名，用分隔符（例：逗号）展示：`VIP / 等级 / Level`
   - `拼音 / 简拼`：来自 `term.pinyin`（主要给后台或特定场景使用，可不在普通用户界面展示）

3. **简要说明**

   - 一段简短文案，展示 `term.short_desc`。
   - 如果 short_desc 为空，可以从 full_desc 的前几句自动截取展示。

4. **详细解释**

   - 以多段文本形式展示 `term.full_desc`。
   - 可以允许换行、列表、简单富文本（例如加粗、项目符号）——在前端渲染时按 Markdown 或富文本处理，但**此文档不涉及具体实现**。
   - 如有必要，可将详细解释拆分为小节（在填写 full_desc 时约定格式）：
     - 概念说明
     - 使用场景
     - 风险/注意事项
     - 与系统功能页面的对应关系（可通过静态文本或链接说明）

5. **相关术语区域（使用 term_relation）**

   标题：**"相关术语"** 或 "你可能还想了解"

   - 从 `term_relation` 中查询当前术语（`from_term_id` 等于当前 term.id）所关联的其它术语。
   - 分不同关系类型展示，例如：

     - 「相关术语」（`relation_type = 'related'`）：
       - 列表展示若干术语名 `term.name`，每个术语为一个可点击链接。
     - 「上位概念」（`relation_type = 'parent'`）：
       - 展示更泛的术语，例如"积分体系"、"会员权益"等。
     - 「下位概念」（`relation_type = 'child'`）：
       - 展示更细分的术语，例如"等级升级规则"、"等级降级规则"。

   行为：

   - 点击某个相关术语：
     - 左侧列表自动定位并高亮该术语。
     - 右侧详情区刷新为该术语。
     - URL 同步更新为对应的 `term_key`。

6. **更新时间与维护信息**

   在详情区底部，以灰色小字展示：

   - "最后更新时间：`term.updated_at`"
   - （可选）"创建时间：`term.created_at`"

   主要给运营/维护人员使用，让大家知道术语是否过期，是否需要更新。

---

## 4. 业务页面内的名词解释使用方式（嵌入场景）

除了独立的"名词解释中心"页面，还可以在业务页面中直接引用解释内容，提升使用体验。

### 4.1 悬浮提示（Tooltip）

场景：在业务页面列表或表单中出现某专业名词时（如"会员等级"、"积分清零策略"）。

交互设计：

- 在术语旁边放置一个小问号图标 `?` 或带下划线的术语。
- 用户鼠标移入或点击术语/图标时：
  - 显示一个小尺寸悬浮卡片：
    - 标题：`term.name`
    - 简要说明：`term.short_desc`
    - 「查看详情」链接（点击后跳转到 `/glossary/:term_key` 或右侧抽屉展开详情）。
- 该浮层数据来源：
  - 可以通过接口调用 `GET /api/terms/:term_key` 获取，也可以在页面初始化时批量预加载部分常用术语。

### 4.2 右侧抽屉 / 弹出层（详情）

在业务页面上，点击某术语时，为不打断当前操作流程，可以采用右侧抽屉方式。

- 抽屉从右侧滑出，宽度约占屏幕 30%–40%。
- 抽屉内容结构与"名词解释主页面"的右侧详情区几乎一致：
  - 标题 + 分类标签
  - 简要说明
  - 详细解释
  - 相关术语列表（可成为进一步的导航入口）
- 关闭抽屉时，业务页面状态不变。

---

## 5. 移动端展示要点

在移动端，左右两栏的布局需要改成上下结构。

1. **顶部**仍是搜索区。
2. 其下是"分类 + 名词列表"。
3. 点击列表中的术语时：
   - 跳转到详情页，或
   - 在同一页面中列表折叠，只显示详情，上方增加返回/"返回列表"按钮。

详情页中的内容结构与 PC 右侧详情区一致，但注意：

- 文案尽量简洁，避免一屏太多字。
- 相关术语列表使用小标签或列表形式，点击后直接跳转新的详情页。

---

## 6. 与数据结构的对应关系小结

- `term_category`
  - 用于：
    - 左侧"分类"列表（名称+说明）
    - 详情区的分类标签展示
  - 重要字段：
    - `name` → 分类展示名称
    - `code` → 前端筛选参数（category）
    - `description` → 悬浮提示说明
    - `sort_order` → 分类列表排序

- `term`
  - 用于：
    - 搜索结果列表
    - 左侧术语列表
    - 右侧详情区
    - 悬浮提示（short_desc）
  - 重要字段：
    - `term_key` → 路由/接口 ID
    - `name` → 展示给用户的术语名称
    - `alias` → 搜索条件之一，用于匹配缩写/别名
    - `pinyin` → 搜索条件之一，用于拼音查询或首字母过滤
    - `category_id` → 对应分类
    - `short_desc` → 列表与 Tooltip 展示
    - `full_desc` → 详情说明
    - `status` → 控制是否在前台展示
    - `sort_order` → 列表排序

- `term_relation`
  - 用于：
    - 详情区"相关术语"、"上位概念"、"下位概念"等区域
  - 重要字段：
    - `from_term_id` / `to_term_id` → 术语之间的关联
    - `relation_type` → 区分不同类型关系（related/parent/child）

---

## 7. 交互与体验上的补充细节

1. **高亮搜索匹配关键词（可选）**
   - 在列表中，将与搜索词匹配的部分用浅色背景或加粗标出，增强视觉反馈。

2. **键盘操作支持（可选）**
   - 搜索框输入后按 Enter 触发搜索。
   - 上下方向键在左侧列表中移动选中项，回车查看详情。

3. **本地缓存 / 最近浏览（可选）**
   - 在浏览器本地存储最近查看的若干术语，在页面侧边或底部显示"最近浏览"列表，便于快速回退。

4. **文案风格**
   - 尽量使用业务方熟悉的表述，避免出现太多技术术语。
   - 若必须出现技术字段名（如数据库字段），可放在详情页的"技术说明"子区域。

---

以上即为基于 `term_category`、`term`、`term_relation` 三表的名词解释系统前端展示设计的完整文字说明，可以直接作为产品文档/设计说明的基础版本，在此基础上再配合原型图即可进入开发阶段。
