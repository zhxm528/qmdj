# 核心功能
- 前端页面：`/app/admin/context/projects/page.tsx`
- 后台程序：`/app/api/admin/context/projects/route.ts`
- 数据库表结构：`/md/database/5_context.sql`
- 配置文件： `/lib/config.ts`
## 需要执行的操作
- “时间轴”上的文字上面需要显示1-5，五个数字，数字需要和“时间轴”的横线轴水平对齐；

## 已执行完毕、忽略不执行的操作
- 增加查询条件：“项目代码”，文本框输入，支持模糊查询
- 增加查询条件：“项目名称”，文本框输入，支持模糊查询
- “ID”一列在表格中不显示
- 前端页面表格中，调整表格宽度，内容文字尽量不要换行
- 前端页面表格中，表头“操作”一列的宽度需要和表中的内容宽度保持一致
- 新增弹窗，在鼠标点击弹窗外的区域不要关闭弹窗，弹窗中需要增加"关闭"的按钮，用来点击关闭弹窗
- 点击"编辑"按钮时，查询相关记录并回显在编辑弹窗中
- 在后台日志中打印查询的 SQL 语句
- 避免编辑弹窗数据回显问题：使用 useEffect 监听 Modal 打开状态，确保在 Modal 完全打开后再设置表单值
- 点击"编辑"按钮时，在日志中详细打印后端返回给前端的完整内容

- 在页面最上方做一个“时间轴”，来表示一个流程
- “时间轴”上每个节点都是一个超链接，“时间轴”上从左到右的节点依次是：1、项目（点击跳转到“项目管理`projects`”页面）；2、提示词模板（点击跳转到“提示词模板管理`prompt_templates`”页面）；3、模板版本（点击跳转到“模板版本管理`prompt_template_versions`”页面）；4、流程（点击跳转到“流程`prompt_flows`”页面）；5、流程步骤（点击跳转到“流程步骤`prompt_flow_steps`”页面）
-  “时间轴”上每个节点“鼠标悬停”改为“鼠标点击”显示提示，点击后窗口中的提示需要有换行、段落的格式整理：
 - "项目"：按照项目管理提示词，例如：奇门遁甲、生辰八字等。 
 - "提示词模板"：定义这个提示词是谁、在什么场景、什么角色（逻辑身份）；按【分层scene + 场景scene + 角色role】建档，每一行代表【一个逻辑 prompt】，例如：qmdj 看盘 system 层提示词”；分层：全局 global / 项目 project / 场景 scene，提示词在对话中的角色：system / user / assistant / tool / fewshot；逻辑身份（这条 prompt 属于哪个层级、哪个场景、哪个角色）。
 - "模板版本"：定义这一版具体怎么说、用什么模型、什么参数（版本快照）；同一个提示词，在不同时期的不同“快照”。内容、参数、模型设置变了，就新建一个版本，不去改旧的。时间维度（这条 prompt 在某个时刻的具体内容 + 参数快照）
 - "流程":【流程（Flow）】 = 一次完整调用 LLM 的【剧本】；针对一个业务场景，把需要用到的多条 Prompt、它们的顺序、角色、版本选择方式，统一打包成一个「配置化的调用方案」，【流程】 ≈ 某个场景下【一次 LLM 调用要用到的所有 Prompt 组合】，Flow 决定：【这次调用要执行哪几步、按什么顺序】
 - "流程步骤"：【流程步骤（Flow Step）】 = 这个剧本里的每一句【台词 / 动作】；流程中的一小步，通常对应一个 prompt_templates 里的模板（加上版本选择策略）。Flow Step 决定：【每一步用哪个 Prompt、用哪个版本、是不是可选、以什么角色发给模型】

 - “时间轴”上的数字，点击后弹窗显示提示；
 - “时间轴”上的文字，点击后跳转链接页面；
