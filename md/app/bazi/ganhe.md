# 五合、六合、三合、三会、冲、刑、害、破、干克、干合规则表（固定字典）
在八字排盘里，这些词指的都是**天干/地支之间的固定关系规则**（合、冲、刑、害、破、克等）。因为组合是“有限且固定”的，所以程序实现时通常直接做成**规则表/固定字典（hard-coded dictionary）**来查。

下面把每个名词是什么意思，以及最常用的“固定表”长什么样，给你一份完整的概念+可落地的字典形态。



## 1）五合（天干五合 / 干合）

**含义**：十天干两两成对的“合”。传统上还会说“合化某五行”（是否真化要看条件），但“谁和谁合”是固定的。

**固定表（最常用版本）**：

* 甲己合（土）
* 乙庚合（金）
* 丙辛合（水）
* 丁壬合（木）
* 戊癸合（火）

示例字典：

```python
GAN_HE = {
  "甲": {"with":"己", "transform":"土"},
  "己": {"with":"甲", "transform":"土"},
  "乙": {"with":"庚", "transform":"金"},
  "庚": {"with":"乙", "transform":"金"},
  "丙": {"with":"辛", "transform":"水"},
  "辛": {"with":"丙", "transform":"水"},
  "丁": {"with":"壬", "transform":"木"},
  "壬": {"with":"丁", "transform":"木"},
  "戊": {"with":"癸", "transform":"火"},
  "癸": {"with":"戊", "transform":"火"},
}
```



## 2）六合（地支六合）

**含义**：十二地支两两成对的“合”。

**固定表**：

* 子丑合
* 寅亥合
* 卯戌合
* 辰酉合
* 巳申合
* 午未合

```python
ZHI_LIUHE = {
  "子":"丑","丑":"子",
  "寅":"亥","亥":"寅",
  "卯":"戌","戌":"卯",
  "辰":"酉","酉":"辰",
  "巳":"申","申":"巳",
  "午":"未","未":"午",
}
```



## 3）三合（地支三合局）

**含义**：三个地支组成一个“合局”，常对应某五行之气（局）。

**固定表**：

* 申子辰 合水
* 寅午戌 合火
* 亥卯未 合木
* 巳酉丑 合金

```python
ZHI_SANHE = {
  ("申","子","辰"): "水",
  ("寅","午","戌"): "火",
  ("亥","卯","未"): "木",
  ("巳","酉","丑"): "金",
}
```



## 4）三会（地支三会局）

**含义**：三个“连续季节/方位”地支会成一股更纯的气（会局）。

**固定表**：

* 亥子丑 会水
* 寅卯辰 会木
* 巳午未 会火
* 申酉戌 会金

```python
ZHI_SANHUI = {
  ("亥","子","丑"): "水",
  ("寅","卯","辰"): "木",
  ("巳","午","未"): "火",
  ("申","酉","戌"): "金",
}
```



## 5）冲（地支六冲）

**含义**：地支对冲，动荡、对立的关系。

**固定表**：

* 子午冲
* 丑未冲
* 寅申冲
* 卯酉冲
* 辰戌冲
* 巳亥冲

```python
ZHI_CHONG = {
  "子":"午","午":"子",
  "丑":"未","未":"丑",
  "寅":"申","申":"寅",
  "卯":"酉","酉":"卯",
  "辰":"戌","戌":"辰",
  "巳":"亥","亥":"巳",
}
```



## 6）刑（地支刑）

**含义**：地支之间的一种“结构性摩擦/约束/伤害”关系。
注意：**刑的分法有流派差异**，但最常用的是“**三刑 + 自刑**”。

**常见固定表**：

* 寅巳申 三刑（无恩之刑）
* 丑未戌 三刑（持势之刑）
* 子卯 相刑（无礼之刑）
* 辰午酉亥 自刑（各自与自己）

```python
ZHI_XING_GROUPS = [
  ("寅","巳","申"),
  ("丑","未","戌"),
  ("子","卯"),
]
ZHI_ZIXING = {"辰","午","酉","亥"}
```



## 7）害（地支六害）

**含义**：暗中损害、牵制、不利的关系（不像冲那么“正面硬碰”）。

**固定表**：

* 子未害
* 丑午害
* 寅巳害
* 卯辰害
* 申亥害
* 酉戌害

```python
ZHI_HAI = {
  "子":"未","未":"子",
  "丑":"午","午":"丑",
  "寅":"巳","巳":"寅",
  "卯":"辰","辰":"卯",
  "申":"亥","亥":"申",
  "酉":"戌","戌":"酉",
}
```



## 8）破（地支六破）

**含义**：破坏、破局、关系松散崩解的一类关系。

**常用固定表**：

* 子酉破
* 卯午破
* 辰丑破
* 未戌破
* 寅亥破
* 巳申破

```python
ZHI_PO = {
  "子":"酉","酉":"子",
  "卯":"午","午":"卯",
  "辰":"丑","丑":"辰",
  "未":"戌","戌":"未",
  "寅":"亥","亥":"寅",
  "巳":"申","申":"巳",
}
```



## 9）干克（天干相克 / 干克规则）

**含义**：本质是**五行相克**投射到“天干（各自带五行属性）”上。
五行相克固定为：**木克土、土克水、水克火、火克金、金克木**。

实现时通常分两层：

1. 先用固定表把天干映射到五行
2. 用五行相克表判断 A 是否克 B

```python
GAN_WUXING = {
  "甲":"木","乙":"木",
  "丙":"火","丁":"火",
  "戊":"土","己":"土",
  "庚":"金","辛":"金",
  "壬":"水","癸":"水",
}

WUXING_KE = {"木":"土","土":"水","水":"火","火":"金","金":"木"}

def gan_ke(a, b):
    return WUXING_KE[GAN_WUXING[a]] == GAN_WUXING[b]
```



## 10）干合（同“五合/干合”）

“干合规则表”通常就是第 1 条的“五合”那张固定表；也有人会在表里加上“合化五行”的字段（如上面 GAN_HE 示例）。


## 核心功能说明
- 后台程序： /app/api/bazi/ganhe/route.ts  (如果不存在则创建)
- 前台程序： /app/bazi/pages.ts
- 后台程序生成“五合、六合、三合、三会、冲、刑、害、破、干克、干合规则表”的json格式字符串返给前端，前端用自然语言的表格形式展现在第1步中


