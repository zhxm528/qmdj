# 页头规范

## 目标
- 统一站点页头展示与导航逻辑，便于后续扩展规则。

## 参考实现
- 组件：`components/Layout.tsx`

## 结构与布局
- 顶部固定页头 `<header>`，包含导航 `<nav>`。
- 布局容器为 `max-w-7xl`，左右留白 `px-4 sm:px-6 lg:px-8`。
- 主结构为三段：左侧 Logo、中间导航、右侧用户区。
- 移动端采用折叠导航，按钮切换展开/收起。

## 品牌与环境文案
- Logo 文案根据环境切换：
  - 生产环境：显示“缘来”
  - 非生产环境：显示“测试环境”

## 导航规则（桌面端）
- 默认导航入口：
  - 问问：`/qimen`
  - 看看：`/bazi`
  - 更多：`/products`
- 仅当登录且角色为 `qmdj` 时展示：
  - 交流：`/community`
  - 游戏：`/game`
  - 管理：`/admin`

## 用户区规则（桌面端）
- 未登录：
  - 登录：`/login`
  - 注册：`/register`
- 已登录：
  - 用户入口：点击后展开下拉菜单（显示用户名或“账户”）
    - 菜单项：账户（`/account`）
    - 菜单项：白天/黑夜模式切换
  - 退出：提交 `POST /api/auth/logout`
  - 若角色为 `qmdj`，在用户名左侧显示“升级”按钮：`/pricing`

## 导航规则（移动端）
- 使用折叠菜单展示所有入口，与桌面端保持一致。
- 展开/收起由按钮控制。
- 点击任意导航项后自动关闭折叠菜单。

## 用户信息获取与日志
- 页面加载后请求 `/api/user/me` 获取登录状态与用户信息。
- 若已登录且有 `id`，向 `/api/user/log` 发送日志（包含 id/email/name）。
