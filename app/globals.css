@tailwind base;
@tailwind components;
@tailwind utilities;

/* 亮色主题变量 */
:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
  
  /* 主题颜色变量 - 亮色 */
  --color-bg: #ffffff;
  --color-surface: #f9fafb;
  --color-elevated: #ffffff;
  --color-border: #e5e7eb;
  --color-muted: #6b7280;
  --color-text: #111827;
  --color-text-strong: #030712;
  
  /* 品牌与交互 - 亮色 */
  --color-primary: #f59e0b;
  --color-primary-strong: #d97706;
  --color-link: #f59e0b;
  --color-link-hover: #d97706;
  --color-focus: #f59e0b;
  --color-danger: #ef4444;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  
  /* 组件状态 - 亮色 */
  --color-card-bg: #ffffff;
  --color-input-bg: #ffffff;
  --color-input-text: #111827;
  --color-input-border: #d1d5db;
  --color-hover: rgba(0, 0, 0, 0.05);
  --color-active: rgba(0, 0, 0, 0.1);
}

/* 暗色主题变量 */
[data-theme="dark"] {
  --color-bg: #0b0f14;
  --color-surface: #111827;
  --color-elevated: #1f2937;
  --color-border: #2a3341;
  --color-muted: #94a3b8;
  --color-text: #e5e7eb;
  --color-text-strong: #f9fafb;
  
  /* 品牌与交互 - 暗色 */
  --color-primary: #f59e0b;
  --color-primary-strong: #fbbf24;
  --color-link: #fbbf24;
  --color-link-hover: #fcd34d;
  --color-focus: #f59e0b;
  --color-danger: #ef4444;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  
  /* 组件状态 - 暗色 */
  --color-card-bg: #111827;
  --color-input-bg: #0f172a;
  --color-input-text: #e5e7eb;
  --color-input-border: #2a3341;
  --color-hover: rgba(255, 255, 255, 0.06);
  --color-active: rgba(255, 255, 255, 0.12);
}

body {
  color: var(--color-text);
  background-color: var(--color-bg);
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* 兼容旧样式 */
body:not([data-theme="dark"]) {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

/* iOS Safari 兼容性 */
@supports (-webkit-touch-callout: none) {
  .h-screen {
    height: -webkit-fill-available;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* 输入框触控反馈 */
input, button, a {
  -webkit-tap-highlight-color: rgba(251, 191, 36, 0.3);
}

/* Ant Design 样式 */
@import 'antd/dist/reset.css';

/* 暗色主题下 Radio 组件文本颜色适配 */
[data-theme="dark"] .ant-radio-wrapper {
  color: var(--color-text);
}

[data-theme="dark"] .ant-radio-wrapper .ant-radio + span {
  color: var(--color-text);
}

[data-theme="dark"] .ant-radio-wrapper:hover {
  color: var(--color-link);
}

[data-theme="dark"] .ant-radio-wrapper:hover .ant-radio + span {
  color: var(--color-link);
}

/* 暗色主题下 Card 组件背景颜色适配 */
[data-theme="dark"] .ant-card {
  background: var(--color-card-bg);
  border-color: var(--color-border);
  color: var(--color-text);
}

[data-theme="dark"] .ant-card-head {
  background: var(--color-card-bg);
  border-bottom-color: var(--color-border);
  color: var(--color-text-strong);
}

[data-theme="dark"] .ant-card-body {
  background: var(--color-card-bg);
  color: var(--color-text);
}

[data-theme="dark"] .ant-card-head-title {
  color: var(--color-text-strong);
}

[data-theme="dark"] .ant-empty-description {
  color: var(--color-text);
}

[data-theme="dark"] .ant-empty .ant-empty-image svg {
  fill: var(--color-muted);
}

/* 暗色主题下 Button link 类型文本颜色适配 */
[data-theme="dark"] .ant-btn-link {
  color: var(--color-link);
}

[data-theme="dark"] .ant-btn-link:hover {
  color: var(--color-link-hover);
}
